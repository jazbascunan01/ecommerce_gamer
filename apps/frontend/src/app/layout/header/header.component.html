<header class="header">
  <div class="header-container">
    <div class="header-logo">
      <a routerLink="/">
        <!-- Un logo simple en SVG para no depender de un archivo de imagen -->
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 3L4.5 6L9 9M15 3L19.5 6L15 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4.5 18L9 21L13.5 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19.5 18L15 21L10.5 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4.5 6V18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19.5 6V18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 9L13.5 12L9 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>GamerStore</span>
      </a>
    </div>
    <nav class="header-nav">
      <a routerLink="/products" routerLinkActive="active">Productos</a>
      <a routerLink="/about" routerLinkActive="active">Nosotros</a>
      <a routerLink="/contact" routerLinkActive="active">Contacto</a>
    </nav>
    <div class="header-actions">      
      <!-- Usamos el pipe async para suscribirnos automÃ¡ticamente al observable user$ -->
      @if (user$ | async; as user) {
        <!-- Contenido para usuarios logueados -->
        <span class="user-greeting">Hola, {{ user.name }}</span>
        <a (click)="logout()" class="nav-link logout-button">Cerrar SesiÃ³n</a>
      } @else {
        <!-- Contenido para usuarios no logueados -->
        <a routerLink="/login" class="nav-link">Iniciar SesiÃ³n</a>
      }

      <a routerLink="/cart" class="cart-button">
        <span class="cart-icon">ðŸ›’</span>
        <!-- Usamos el pipe async para obtener el valor del observable -->
        @if (totalItemsInCart$ | async; as total) {
          @if (total > 0) { <span class="cart-count">{{ total }}</span> }
        }
      </a>
    </div>
  </div>
</header>
