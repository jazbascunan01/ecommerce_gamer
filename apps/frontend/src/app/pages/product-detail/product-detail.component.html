<div class="product-detail-container">
  <ng-container *ngIf="product$ | async as product; else loadingOrError">
    <div class="product-card">
      <div class="product-image">
        <img [src]="product.imageUrl" [alt]="product.name">
      </div>
      <div class="product-info">
        <h1 class="product-name">{{ product.name }}</h1>
        <p class="product-price">{{ product.price | currency:'ARS' }}</p>
        <p class="product-description">{{ product.description }}</p>
        <p class="product-stock" [class.out-of-stock]="product.stock === 0">
          Stock: {{ product.stock > 0 ? product.stock + ' unidades' : 'Agotado' }}
        </p>
        <button class="add-to-cart-btn" (click)="onAddToCart(product)" [disabled]="product.stock === 0">
          {{ product.stock > 0 ? 'Agregar al Carrito' : 'Sin Stock' }}
        </button>
        <a routerLink="/products" class="back-link">â€¹ Volver a la lista</a>
      </div>
    </div>
  </ng-container>
</div>

<ng-template #loadingOrError>
  <p class="loading-message">Cargando detalles del producto...</p>
</ng-template>
